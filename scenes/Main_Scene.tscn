[gd_scene load_steps=38 format=3 uid="uid://dewp4wiarhp52"]

[ext_resource type="Script" path="res://scripts/UIHandler.gd" id="1_hbd8v"]
[ext_resource type="Texture2D" uid="uid://dejq08lgvl0on" path="res://sprites/background sprites/BACKGROUND Stue100%.png" id="2_bil64"]
[ext_resource type="Texture2D" uid="uid://ny6jhs2c8k2u" path="res://sprites/background sprites/BACKGROUND Stue75%.png" id="3_8do6h"]
[ext_resource type="Texture2D" uid="uid://bgmcn40lnseog" path="res://sprites/patient character-sprites/ANATOMY Torso.png" id="3_fka0q"]
[ext_resource type="Texture2D" uid="uid://b7pke7m5ral4j" path="res://sprites/background sprites/BACKGROUND Stue50%.png.png" id="4_lejsb"]
[ext_resource type="Texture2D" uid="uid://ctyvgs6f3ukgl" path="res://sprites/background sprites/BACKGROUND Stue25%.png.png" id="5_7d3j7"]
[ext_resource type="Texture2D" uid="uid://2uxlenjmw1dv" path="res://sprites/background sprites/BACKGROUND Stue0%.png" id="6_11l1f"]
[ext_resource type="Texture2D" uid="uid://bh1chpxdo6cqb" path="res://sprites/button sprites/menu buttons/NORMAL Pause menu.png" id="8_r75uo"]
[ext_resource type="Texture2D" uid="uid://cq70k5h4wspvg" path="res://sprites/button sprites/menu buttons/PRESSED Pause menu.png" id="9_31fe3"]
[ext_resource type="ButtonGroup" path="res://Time speed button group.tres" id="11_k5206"]
[ext_resource type="Texture2D" uid="uid://dephfamr2iaok" path="res://sprites/button sprites/time buttons/PRESSED 1x Speed.png" id="12_lq2aj"]
[ext_resource type="Texture2D" uid="uid://cjqd2pbfpvy3i" path="res://sprites/button sprites/time buttons/NORMAL 5x Speed.png" id="13_045p2"]
[ext_resource type="Texture2D" uid="uid://bpqcmgjun72y3" path="res://sprites/button sprites/time buttons/PRESSED 5x Speed.png" id="14_38pjk"]
[ext_resource type="Texture2D" uid="uid://c054njm6k5806" path="res://sprites/button sprites/time buttons/NORMAL 10x Speed.png" id="15_2dm4q"]
[ext_resource type="Texture2D" uid="uid://xaam1kg2ibyk" path="res://sprites/button sprites/time buttons/PRESSED 10x Speed.png" id="16_6yn8q"]
[ext_resource type="Texture2D" uid="uid://cq51x4w3arpbv" path="res://sprites/button sprites/time buttons/NORMAL 1x Speed.png" id="16_ltjbg"]
[ext_resource type="Texture2D" uid="uid://bpaj7gyujxjq1" path="res://sprites/button sprites/time buttons/NORMAL Pause time.png" id="17_14g4m"]
[ext_resource type="Script" path="res://scripts/Healthbar.gd" id="17_p0cqq"]
[ext_resource type="Texture2D" uid="uid://cf6cc8view1wu" path="res://sprites/button sprites/time buttons/PRESSED Pause time.png" id="18_o8d0d"]
[ext_resource type="Texture2D" uid="uid://qnebdewd7dvb" path="res://sprites/button sprites/menu buttons/NORMAL Upgrade menu .png" id="19_1vmbv"]
[ext_resource type="Script" path="res://scripts/ColonyInfo.gd" id="20_2nwra"]
[ext_resource type="Texture2D" uid="uid://b5vnunvdrx2pg" path="res://sprites/button sprites/menu buttons/PRESSED Upgrade menu.png" id="20_hybmq"]
[ext_resource type="FontFile" uid="uid://dojxg0x4imlua" path="res://sprites/fonts/Minecraft.ttf" id="21_tcjlp"]
[ext_resource type="PackedScene" uid="uid://tu4wbcgyarvw" path="res://scenes/CancerColony.tscn" id="22_7eyt3"]
[ext_resource type="Texture2D" uid="uid://j6vfmwmbufct" path="res://sprites/healthbar sprites/New health.webp" id="22_vos0v"]
[ext_resource type="Script" path="res://scripts/HealthEvent.gd" id="23_c1v2g"]
[ext_resource type="Texture2D" uid="uid://dt5e4a6ppxgke" path="res://sprites/button sprites/other graphical/Info icon.png" id="24_0wvr0"]
[ext_resource type="Script" path="res://scripts/EconomyHandler.gd" id="25_jl0ia"]
[ext_resource type="PackedScene" uid="uid://byfliyn7lox7r" path="res://scenes/menus/upgradetree_menu.tscn" id="25_r5fj5"]
[ext_resource type="PackedScene" uid="uid://ia2lerpknwdq" path="res://scenes/menus/pause_menu.tscn" id="26_15dxr"]
[ext_resource type="Texture2D" uid="uid://dteaf0phxsexf" path="res://sprites/healthbar sprites/Healtbar.png" id="26_ev75u"]
[ext_resource type="PackedScene" uid="uid://bu5yqconeo332" path="res://scenes/menus/start_menu.tscn" id="27_f7wyd"]
[ext_resource type="PackedScene" uid="uid://bypc7yfbr5hu" path="res://scenes/menus/settings_menu.tscn" id="27_jyjyq"]
[ext_resource type="Texture2D" uid="uid://cm5a3tdmwuklm" path="res://sprites/cancer sprites/CANCERCOLONY Small.png" id="29_qd6wt"]
[ext_resource type="PackedScene" uid="uid://dvmhmflc7ty10" path="res://scenes/CancerInfo.tscn" id="31_vlkc8"]
[ext_resource type="PackedScene" uid="uid://dctmv4goslbml" path="res://scenes/winning_screen.tscn" id="35_x27k8"]

[sub_resource type="SpriteFrames" id="SpriteFrames_2bgar"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_bil64")
}, {
"duration": 1.0,
"texture": ExtResource("3_8do6h")
}, {
"duration": 1.0,
"texture": ExtResource("4_lejsb")
}, {
"duration": 1.0,
"texture": ExtResource("5_7d3j7")
}, {
"duration": 1.0,
"texture": ExtResource("6_11l1f")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[node name="MainScene" type="Node2D"]
metadata/_edit_vertical_guides_ = [165.0]
metadata/_edit_horizontal_guides_ = [82.0]

[node name="UiHandler" type="Node" parent="."]
editor_description = "En Wrapper rundt om nogle statemachine funktioner der skal kaldes af UI. SÃ¥ man kan finde dem i editoren "
script = ExtResource("1_hbd8v")

[node name="Background_Stue" type="AnimatedSprite2D" parent="UiHandler"]
sprite_frames = SubResource("SpriteFrames_2bgar")
offset = Vector2(160, 90)

[node name="TorsoAnatomy" type="Sprite2D" parent="UiHandler"]
texture = ExtResource("3_fka0q")
offset = Vector2(160, 90)

[node name="Pause menu button" type="TextureButton" parent="UiHandler"]
offset_left = 5.0
offset_top = 2.0
offset_right = 33.0
offset_bottom = 18.0
texture_normal = ExtResource("8_r75uo")
texture_pressed = ExtResource("9_31fe3")
stretch_mode = 3

[node name="1x button" type="TextureButton" parent="UiHandler"]
offset_left = 259.0
offset_top = 2.0
offset_right = 275.0
offset_bottom = 18.0
toggle_mode = true
button_group = ExtResource("11_k5206")
texture_normal = ExtResource("16_ltjbg")
texture_pressed = ExtResource("12_lq2aj")
stretch_mode = 3

[node name="5x button" type="TextureButton" parent="UiHandler"]
offset_left = 279.0
offset_top = 2.0
offset_right = 295.0
offset_bottom = 18.0
toggle_mode = true
button_group = ExtResource("11_k5206")
texture_normal = ExtResource("13_045p2")
texture_pressed = ExtResource("14_38pjk")
stretch_mode = 3

[node name="10x button" type="TextureButton" parent="UiHandler"]
offset_left = 299.0
offset_top = 2.0
offset_right = 315.0
offset_bottom = 18.0
toggle_mode = true
button_group = ExtResource("11_k5206")
texture_normal = ExtResource("15_2dm4q")
texture_pressed = ExtResource("16_6yn8q")
stretch_mode = 5

[node name="Pause button" type="TextureButton" parent="UiHandler"]
offset_left = 239.0
offset_top = 2.0
offset_right = 255.0
offset_bottom = 18.0
toggle_mode = true
button_pressed = true
button_group = ExtResource("11_k5206")
texture_normal = ExtResource("17_14g4m")
texture_pressed = ExtResource("18_o8d0d")
stretch_mode = 3

[node name="Upgrade" type="TextureButton" parent="UiHandler"]
offset_left = 5.0
offset_top = 20.0
offset_right = 43.0
offset_bottom = 36.0
texture_normal = ExtResource("19_1vmbv")
texture_pressed = ExtResource("20_hybmq")
stretch_mode = 3

[node name="Health" type="Node2D" parent="UiHandler"]

[node name="Healthbar" type="Sprite2D" parent="UiHandler/Health"]
position = Vector2(15, 171)
scale = Vector2(4.8, 0.5)
texture = ExtResource("22_vos0v")
centered = false
script = ExtResource("17_p0cqq")
_discoverCancerCellNum = 4000000
_minCellDmgNum = 500000
_maxCellDmgNum = 3000000
_minDmg = 0.002
_maxDmg = 0.1
_cemoChance = 0.35
_cemoCancerDamage = 75000
_cemoCancerDmgVariation = 15000
_cemoDamage = 0.5
_HealthLabelPath = NodePath("../HealthEvent")

[node name="HealthEvent" type="ColorRect" parent="UiHandler/Health"]
visible = false
offset_left = 242.0
offset_top = 147.0
offset_right = 317.0
offset_bottom = 177.0
color = Color(0.121569, 0.121569, 0.121569, 0)
script = ExtResource("23_c1v2g")

[node name="HealthEventTitle" type="Label" parent="UiHandler/Health/HealthEvent"]
layout_mode = 1
anchors_preset = -1
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 2.0
offset_top = 2.0
offset_right = -2.0
offset_bottom = -2.0
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_fonts/font = ExtResource("21_tcjlp")
theme_override_font_sizes/font_size = 4
autowrap_mode = 3

[node name="Healtbar_heart" type="Sprite2D" parent="UiHandler/Health"]
position = Vector2(35, 171)
texture = ExtResource("26_ev75u")

[node name="ColonyInfo" type="ColorRect" parent="UiHandler"]
visible = false
offset_left = 63.0
offset_top = 67.0
offset_right = 137.0
offset_bottom = 102.0
color = Color(0.121569, 0.121569, 0.121569, 1)
script = ExtResource("20_2nwra")

[node name="ColonyName" type="Label" parent="UiHandler/ColonyInfo"]
layout_mode = 1
anchors_preset = -1
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 3.0
offset_top = 3.0
offset_right = -3.0
offset_bottom = -3.0
theme_override_fonts/font = ExtResource("21_tcjlp")
theme_override_font_sizes/font_size = 5
text = "something"

[node name="ColonyInformation" type="Label" parent="UiHandler/ColonyInfo/ColonyName"]
layout_mode = 1
anchors_preset = -1
anchor_top = 0.254
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = 0.0140004
theme_override_fonts/font = ExtResource("21_tcjlp")
theme_override_font_sizes/font_size = 3

[node name="InfoIcon" type="TextureButton" parent="UiHandler/ColonyInfo"]
layout_mode = 0
offset_left = 67.0
offset_top = 2.0
offset_right = 72.0
offset_bottom = 8.0
texture_normal = ExtResource("24_0wvr0")

[node name="Colonies" type="Node" parent="UiHandler"]

[node name="Heart" type="Node" parent="UiHandler/Colonies"]

[node name="Heart1" parent="UiHandler/Colonies/Heart" instance=ExtResource("22_7eyt3")]
visible = false
offset_left = 169.0
offset_top = 90.0
offset_right = 174.0
offset_bottom = 95.0
texture_normal = ExtResource("29_qd6wt")

[node name="Heart2" parent="UiHandler/Colonies/Heart" instance=ExtResource("22_7eyt3")]
visible = false
offset_left = 174.0
offset_top = 96.0
offset_right = 179.0
offset_bottom = 101.0
texture_normal = ExtResource("29_qd6wt")

[node name="Lungs" type="Node" parent="UiHandler/Colonies"]

[node name="Lung1" parent="UiHandler/Colonies/Lungs" instance=ExtResource("22_7eyt3")]
visible = false
offset_left = 176.0
offset_top = 79.0
offset_right = 181.0
offset_bottom = 84.0
texture_normal = ExtResource("29_qd6wt")
organ = 1

[node name="Lung2" parent="UiHandler/Colonies/Lungs" instance=ExtResource("22_7eyt3")]
visible = false
offset_left = 152.0
offset_top = 84.0
offset_right = 157.0
offset_bottom = 89.0
texture_normal = ExtResource("29_qd6wt")
organ = 1

[node name="Lung3" parent="UiHandler/Colonies/Lungs" instance=ExtResource("22_7eyt3")]
visible = false
offset_left = 148.0
offset_top = 97.0
offset_right = 153.0
offset_bottom = 102.0
texture_normal = ExtResource("29_qd6wt")
organ = 1

[node name="Liver" type="Node" parent="UiHandler/Colonies"]

[node name="Liver1" parent="UiHandler/Colonies/Liver" instance=ExtResource("22_7eyt3")]
visible = false
offset_left = 152.0
offset_top = 109.0
offset_right = 157.0
offset_bottom = 114.0
texture_normal = ExtResource("29_qd6wt")
organ = 2

[node name="Liver2" parent="UiHandler/Colonies/Liver" instance=ExtResource("22_7eyt3")]
visible = false
offset_left = 161.0
offset_top = 105.0
offset_right = 166.0
offset_bottom = 110.0
texture_normal = ExtResource("29_qd6wt")
organ = 2

[node name="Intestines" type="Node" parent="UiHandler/Colonies"]

[node name="Intestines1" parent="UiHandler/Colonies/Intestines" instance=ExtResource("22_7eyt3")]
visible = false
offset_left = 157.0
offset_top = 118.0
offset_right = 162.0
offset_bottom = 123.0
texture_normal = ExtResource("29_qd6wt")
organ = 3

[node name="Intestines2" parent="UiHandler/Colonies/Intestines" instance=ExtResource("22_7eyt3")]
visible = false
offset_left = 179.0
offset_top = 123.0
offset_right = 184.0
offset_bottom = 128.0
texture_normal = ExtResource("29_qd6wt")
organ = 3

[node name="Intestines3" parent="UiHandler/Colonies/Intestines" instance=ExtResource("22_7eyt3")]
visible = false
offset_left = 151.0
offset_top = 134.0
offset_right = 156.0
offset_bottom = 139.0
texture_normal = ExtResource("29_qd6wt")
organ = 3

[node name="Brain" type="Node" parent="UiHandler/Colonies"]

[node name="Brain1" parent="UiHandler/Colonies/Brain" instance=ExtResource("22_7eyt3")]
visible = false
offset_left = 164.0
offset_top = 34.0
offset_right = 169.0
offset_bottom = 39.0
texture_normal = ExtResource("29_qd6wt")

[node name="Brain2" parent="UiHandler/Colonies/Brain" instance=ExtResource("22_7eyt3")]
visible = false
offset_left = 158.0
offset_top = 39.0
offset_right = 163.0
offset_bottom = 44.0
texture_normal = ExtResource("29_qd6wt")

[node name="Brain3" parent="UiHandler/Colonies/Brain" instance=ExtResource("22_7eyt3")]
visible = false
offset_left = 170.0
offset_top = 38.0
offset_right = 175.0
offset_bottom = 43.0
texture_normal = ExtResource("29_qd6wt")

[node name="dayCount" type="Label" parent="UiHandler"]
offset_left = 206.0
offset_top = 6.0
offset_right = 235.0
offset_bottom = 16.0
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/shadow_offset_y = 1
theme_override_constants/outline_size = 3
theme_override_fonts/font = ExtResource("21_tcjlp")
theme_override_font_sizes/font_size = 6
text = "Day: 0"
vertical_alignment = 1

[node name="CancerPoints" type="Label" parent="UiHandler"]
offset_left = 7.0
offset_top = 161.0
offset_right = 56.0
offset_bottom = 171.0
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/shadow_offset_y = 1
theme_override_constants/outline_size = 3
theme_override_fonts/font = ExtResource("21_tcjlp")
theme_override_font_sizes/font_size = 6
text = "Cancer Points: 0"
script = ExtResource("25_jl0ia")

[node name="UpgradeMenu" parent="UiHandler" instance=ExtResource("25_r5fj5")]
visible = false

[node name="PauseMenu" parent="UiHandler" instance=ExtResource("26_15dxr")]
visible = false

[node name="StartMenu" parent="UiHandler" instance=ExtResource("27_f7wyd")]
visible = false

[node name="SettingsMenu" parent="UiHandler" instance=ExtResource("27_jyjyq")]
visible = false

[node name="winning_screen" parent="UiHandler" instance=ExtResource("35_x27k8")]
visible = false

[node name="CancerInfo" parent="UiHandler" instance=ExtResource("31_vlkc8")]
visible = false

[connection signal="pressed" from="UiHandler/Pause menu button" to="UiHandler" method="_on_pause_menu_button_pressed"]
[connection signal="pressed" from="UiHandler/1x button" to="UiHandler" method="ChangeDaySpeed" binds= [1.0]]
[connection signal="pressed" from="UiHandler/5x button" to="UiHandler" method="ChangeDaySpeed" binds= [5.0]]
[connection signal="pressed" from="UiHandler/10x button" to="UiHandler" method="ChangeDaySpeed" binds= [10.0]]
[connection signal="toggled" from="UiHandler/Pause button" to="UiHandler" method="_on_pause_button_toggled"]
[connection signal="pressed" from="UiHandler/Upgrade" to="UiHandler" method="_on_upgrade_pressed"]
[connection signal="pressed" from="UiHandler/ColonyInfo/InfoIcon" to="UiHandler" method="_on_info_icon_pressed"]
